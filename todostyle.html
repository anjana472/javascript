<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Todo List</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
body {
  font-family: Arial, sans-serif;
}

h1 {
  text-align: center;
}

#todoInput {
  width: 70%;
  padding: 8px;
  margin-bottom: 10px;
}

button {
  padding: 8px 20px;
  background-color: #af4c4c;
  color: white;
  border: none;
  cursor: pointer;
}

button:hover {
  background-color: #5145a0;
}

ul {
  list-style-type: none;
  padding: 0;
}

li {
  padding: 10px;
  margin-bottom: 5px;
  background-color: #dae4da;
  border-radius: 5px;
}

</style>
</head>
<body>
    <h1>Todo List</h1>
    <input type="text" id="todoInput" placeholder="Add new todo">
    <button id="addTodo">Add Todo</button>
    <ul id="todoList"></ul>
    
    <script>
    const input = document.getElementById("todoInput");
    const btn = document.getElementById("addTodo");
    const tasks = document.getElementById("todoList");

    btn.addEventListener("click", function(e) {
        try {
            let text = input.value;

            if (text === "") {
                throw new Error("Task is empty!");
            }

            const newtask = document.createElement("li");
            newtask.classList.add("task");

            newtask.addEventListener('dblclick', () => {
                newtask.classList.add('line-through');
            });

            let addvalue = document.createElement("span");
            addvalue.innerHTML = text;
            newtask.appendChild(addvalue);

            let toEdit = document.createElement("button");
            toEdit.classList.add("editt");
            toEdit.innerHTML = '<i class="fas fa-pen"></i>';
            newtask.appendChild(toEdit);

            let toDelete = document.createElement("button");
            toDelete.classList.add("editt");
            toDelete.innerHTML = '<i class="fas fa-trash"></i>';
            newtask.appendChild(toDelete);

            toEdit.addEventListener("click", () => {
                let val = prompt("Edit please");
                if (val !== null) {
                    addvalue.innerHTML = val;
                }
            });

            toDelete.addEventListener("click", () => {
                newtask.remove();
            });

            tasks.appendChild(newtask);

            input.value = "";
        } catch (error) {
            alert(error.message);
        }
    });
    </script>
</body>
</html>
